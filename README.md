## Installation

Copy .env.dist to .env and add the config values.

Frontend URL is the URL of the admin react app https://github.com/Skywire/react-bigcommerce

## Run

`uvicorn app.main:app`

## Create / Update DB

`python app/db/migrate.py`

## Test Load Payload
signed_payload=eyJ1c2VyIjp7ImlkIjoyMDczMjk0LCJlbWFpbCI6InRlY2grYmlnY29tbWVyY2VAc2t5d2lyZS5jby51ayJ9LCJvd25lciI6eyJpZCI6MjA3MzI5NCwiZW1haWwiOiJ0ZWNoK2JpZ2NvbW1lcmNlQHNreXdpcmUuY28udWsifSwiY29udGV4dCI6InN0b3Jlcy95MXY0b2F2MzZtIiwic3RvcmVfaGFzaCI6InkxdjRvYXYzNm0iLCJ0aW1lc3RhbXAiOjE2MzIzOTkzNjN9.NWE0Yjg3ZTFhMDA3NWQ5Y2EyODEzZmI3ZDM2NzhkMTQzZDRkYWVmNjk4NmE1YjllYzE3MTA5MWEyNDIxZjFkZQ==signed_payload=eyJ1c2VyIjp7ImlkIjoyMDczMjk0LCJlbWFpbCI6InRlY2grYmlnY29tbWVyY2VAc2t5d2lyZS5jby51ayJ9LCJvd25lciI6eyJpZCI6MjA3MzI5NCwiZW1haWwiOiJ0ZWNoK2JpZ2NvbW1lcmNlQHNreXdpcmUuY28udWsifSwiY29udGV4dCI6InN0b3Jlcy95MXY0b2F2MzZtIiwic3RvcmVfaGFzaCI6InkxdjRvYXYzNm0iLCJ0aW1lc3RhbXAiOjE2MzIzOTkzNjN9.NWE0Yjg3ZTFhMDA3NWQ5Y2EyODEzZmI3ZDM2NzhkMTQzZDRkYWVmNjk4NmE1YjllYzE3MTA5MWEyNDIxZjFkZQ==

## Test Admin JWT
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiaGY5dG13OWJ6cmd1b281d2YzZGJwemN0dDRqMjZ3IiwiaXNzIjoiYmMiLCJpYXQiOjE2MzIzOTkzNjMsIm5iZiI6MTYzMjM5OTM1OCwiZXhwIjoxNjMyNDg1NzYzLCJqdGkiOiJmYzhjODgzMS1hYTJkLTQzNWEtYTllZS0wNmRkODIwYTZmMWYiLCJzdWIiOiJzdG9yZXMveTF2NG9hdjM2bSIsInVzZXIiOnsiaWQiOjIwNzMyOTQsImVtYWlsIjoidGVjaCtiaWdjb21tZXJjZUBza3l3aXJlLmNvLnVrIn0sIm93bmVyIjp7ImlkIjoyMDczMjk0LCJlbWFpbCI6InRlY2grYmlnY29tbWVyY2VAc2t5d2lyZS5jby51ayJ9LCJ1cmwiOiIvIn0.PgilkKwu2QmDp9xxBoFfe6Cep7hRDmaiJUVVu_rHF7k

## Test Customer JWT
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJjdXN0b21lciI6eyJpZCI6MSwiZW1haWwiOiJuZWlsQHNreXdpcmUuY28udWsiLCJncm91cF9pZCI6IjAifSwiaXNzIjoiYmMvYXBwcyIsInN1YiI6InkxdjRvYXYzNm0iLCJpYXQiOjE2MzI0MDA0MjIsImV4cCI6MTYzMjQwMTMyMiwidmVyc2lvbiI6MSwiYXVkIjoiYmhmOXRtdzlienJndW9vNXdmM2RicHpjdHQ0ajI2dyIsImFwcGxpY2F0aW9uX2lkIjoiYmhmOXRtdzlienJndW9vNXdmM2RicHpjdHQ0ajI2dyIsInN0b3JlX2hhc2giOiJ5MXY0b2F2MzZtIiwib3BlcmF0aW9uIjoiY3VycmVudF9jdXN0b21lciJ9.rgWuaPVMdL5bsf4kU-Xp6YdjK9F0xHV62mmVajqEd52RYRXpHKY407g8T9xMcxD1UsUZKoJdl-hXgAVC5f2IHA

## Test Store Hash
y1v4oav36m

## Test URL
http://127.0.0.1:8000/bigcommerce/oauth/load?signed_payload=eyJ1c2VyIjp7ImlkIjoyMDczMjk0LCJlbWFpbCI6InRlY2grYmlnY29tbWVyY2VAc2t5d2lyZS5jby51ayJ9LCJvd25lciI6eyJpZCI6MjA3MzI5NCwiZW1haWwiOiJ0ZWNoK2JpZ2NvbW1lcmNlQHNreXdpcmUuY28udWsifSwiY29udGV4dCI6InN0b3Jlcy95MXY0b2F2MzZtIiwic3RvcmVfaGFzaCI6InkxdjRvYXYzNm0iLCJ0aW1lc3RhbXAiOjE2MzIzOTQyNTZ9.YmQ4NjQ2NDVkOGJmYzU4NDJiOTllMTE0YzI3YzdmNjlkZDA5ZDJhZWMyYjEzNzAwNDAyMTJlODFmMTU2MGFhMA==

## Deployment to Heroku

Add the relevant values from .env.dist to the Heroku config vars 

Install heroku CLI and run
```
heroku login
heroku git:remote --app fastapi-bigcommerce
git push heroku
```